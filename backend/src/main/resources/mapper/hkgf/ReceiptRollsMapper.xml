<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cc.mrbird.febs.hkgf.dao.ReceiptRollsMapper">
    <resultMap id="BaseResultMap" type="cc.mrbird.febs.hkgf.entity.ReceiptRolls">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        <id column="id" property="id" jdbcType="VARCHAR"/>
        <result column="receipt_no" property="receiptNo" jdbcType="VARCHAR"/>
        <result column="user_name" property="userName" jdbcType="VARCHAR"/>
        <result column="card_no" property="cardNo" jdbcType="VARCHAR"/>
        <result column="card_id" property="cardId" jdbcType="VARCHAR"/>
        <result column="receipt_create_time" property="receiptCreateTime" jdbcType="TIMESTAMP"/>
        <result column="into_time" property="intoTime" jdbcType="TIMESTAMP"/>
        <result column="zzd_no" property="zzdNo" jdbcType="VARCHAR"/>
        <result column="bill_dept" property="billDept" jdbcType="VARCHAR"/>
        <result column="exe_dept" property="exeDept" jdbcType="VARCHAR"/>
        <result column="into_hospital_id" property="intoHospitalId" jdbcType="VARCHAR"/>
        <result column="admission_number" property="admissionNumber" jdbcType="VARCHAR"/>
        <result column="receipt_type" property="receiptType" jdbcType="VARCHAR"/>
        <result column="start_date" property="startDate" jdbcType="DATE"/>
        <result column="end_date" property="endDate" jdbcType="DATE"/>
        <result column="date_num" property="dateNum" jdbcType="INTEGER"/>
        <result column="out_hospital_id" property="outHospitalId" jdbcType="VARCHAR"/>
        <result column="status" property="status" jdbcType="INTEGER"/>
    </resultMap>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        delete from receipt_rolls
        where id = #{id,jdbcType=VARCHAR}
    </delete>
    <insert id="insert" parameterType="cc.mrbird.febs.hkgf.entity.ReceiptRolls">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        <selectKey resultType="java.lang.String" keyProperty="id" order="BEFORE">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into receipt_rolls (id, receipt_no, user_name,
        card_no, card_id, receipt_create_time,
        into_time, zzd_no, bill_dept,
        exe_dept, into_hospital_id, admission_number,
        receipt_type, start_date, end_date,
        date_num, out_hospital_id, status
        )
        values (#{id,jdbcType=VARCHAR}, #{receiptNo,jdbcType=VARCHAR}, #{userName,jdbcType=VARCHAR},
        #{cardNo,jdbcType=VARCHAR}, #{cardId,jdbcType=VARCHAR}, #{receiptCreateTime,jdbcType=TIMESTAMP},
        #{intoTime,jdbcType=TIMESTAMP}, #{zzdNo,jdbcType=VARCHAR}, #{billDept,jdbcType=VARCHAR},
        #{exeDept,jdbcType=VARCHAR}, #{intoHospitalId,jdbcType=VARCHAR}, #{admissionNumber,jdbcType=VARCHAR},
        #{receiptType,jdbcType=VARCHAR}, #{startDate,jdbcType=DATE}, #{endDate,jdbcType=DATE},
        #{dateNum,jdbcType=INTEGER}, #{outHospitalId,jdbcType=VARCHAR}, #{status,jdbcType=INTEGER}
        )
    </insert>
    <update id="updateByPrimaryKey" parameterType="cc.mrbird.febs.hkgf.entity.ReceiptRolls">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        update receipt_rolls
        set receipt_no = #{receiptNo,jdbcType=VARCHAR},
        user_name = #{userName,jdbcType=VARCHAR},
        card_no = #{cardNo,jdbcType=VARCHAR},
        card_id = #{cardId,jdbcType=VARCHAR},
        receipt_create_time = #{receiptCreateTime,jdbcType=TIMESTAMP},
        into_time = #{intoTime,jdbcType=TIMESTAMP},
        zzd_no = #{zzdNo,jdbcType=VARCHAR},
        bill_dept = #{billDept,jdbcType=VARCHAR},
        exe_dept = #{exeDept,jdbcType=VARCHAR},
        into_hospital_id = #{intoHospitalId,jdbcType=VARCHAR},
        admission_number = #{admissionNumber,jdbcType=VARCHAR},
        receipt_type = #{receiptType,jdbcType=VARCHAR},
        start_date = #{startDate,jdbcType=DATE},
        end_date = #{endDate,jdbcType=DATE},
        date_num = #{dateNum,jdbcType=INTEGER},
        out_hospital_id = #{outHospitalId,jdbcType=VARCHAR},
        status = #{status,jdbcType=INTEGER}
        where id = #{id,jdbcType=VARCHAR}
    </update>
    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        select id, receipt_no, user_name, card_no, card_id, receipt_create_time, into_time,
        zzd_no, bill_dept, exe_dept, into_hospital_id, admission_number, receipt_type, start_date,
        end_date, date_num, out_hospital_id, status
        from receipt_rolls
        where id = #{id,jdbcType=VARCHAR}
    </select>
    <select id="selectAll" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Thu Jan 04 10:11:19 CST 2018.
        -->
        select id, receipt_no, user_name, card_no, card_id, receipt_create_time, into_time,
        zzd_no, bill_dept, exe_dept, into_hospital_id, admission_number, receipt_type, start_date,
        end_date, date_num, out_hospital_id, status
        from receipt_rolls
    </select>
    <insert id="insertRoll" parameterType="cc.mrbird.febs.hkgf.entity.ReceiptRolls">
        INSERT INTO receipt_rolls (
        id,
        receipt_no,
        user_name,
        card_no,
        card_id,
        receipt_create_time,
        into_time,
        zzd_no,
        into_hospital_id,
        admission_number,
        receipt_type,
        start_date,
        end_date,
        date_num,
        out_hospital_id,
        `STATUS`
        )
        VALUES
        (
        REPLACE(UUID(),'-',''),
        #{receiptNo},
        #{userName},
        #{cardNo},
        #{cardId},
        #{receiptCreateTime},
        #{intoTime},
        #{zzdNo},
        #{intoHospitalId},
        #{admissionNumber},
        #{receiptType},
        #{startDate},
        #{endDate},
        #{dateNum},
        #{outHospitalId},
        #{status}
        )
    </insert>
    <select id="queryCont" parameterType="java.util.Map" resultType="java.lang.Integer">
        SELECT
        count(r.id)
        FROM
        receipt_rolls AS r
        WHERE r.receipt_no = #{receiptNo} and r.card_no = #{cardNo}
    </select>
    <delete id="deleteByFphm" parameterType="java.lang.String">
        delete from receipt_rolls
        where receipt_no = #{fphm,jdbcType=VARCHAR}
    </delete>
</mapper>